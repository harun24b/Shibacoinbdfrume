<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Egg Farm Invest</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
    :root { --bg-color: linear-gradient(160deg, #0b0c17, #1c1f2a); --card-bg-color: rgba(255,255,255,0.05); --primary-text-color: #ffffff; --accent-color: #facc15; --timer-color: #38bdf8; --font-family: 'Poppins', sans-serif; --glow-color: #facc15; --danger-color: #ef4444; }
    body { margin: 0; padding: 0; font-family: var(--font-family); background: var(--bg-color); color: var(--primary-text-color); }
    .container { padding: 10px; max-width: 500px; margin: 0 auto; padding-bottom: 120px; }
    .hide { display: none; }
    .auth-container { background: var(--card-bg-color); border-radius: 25px; padding: 30px; margin-top: 80px; text-align: center; box-shadow: 0 0 25px rgba(250,204,21,0.6); backdrop-filter: blur(10px); }
    .auth-container h1 { color: var(--accent-color); text-shadow: 0 0 10px var(--glow-color); }
    .auth-tabs { display: flex; justify-content: center; margin-bottom: 20px; }
    .tab { flex: 1; padding: 12px; cursor: pointer; color: #888; border-bottom: 2px solid transparent; font-weight: 600; }
    .tab.active { color: var(--accent-color); border-color: var(--accent-color); }
    input, select { width: 90%; padding: 14px; margin: 8px 0; border-radius: 12px; border: none; background: rgba(255,255,255,0.1); color: white; font-size: 16px; font-family: var(--font-family); }
    button, .button { width: 90%; padding: 12px; margin: 8px auto; border: none; border-radius: 30px; font-weight: bold; cursor: pointer; background-color: var(--accent-color); color: #000; box-shadow: 0 0 15px var(--glow-color); text-align: center; text-decoration: none; display: block; }
    button:disabled { background-color: rgba(128,128,128,0.2); color: #888; cursor: not-allowed; box-shadow: none; }
    #statusMsg { font-size: 14px; margin-top: 10px; color: var(--timer-color); }
    .game-header { text-align: center; margin-top: 20px; padding: 15px; background: var(--card-bg-color); border-radius: 20px; backdrop-filter: blur(8px); margin-bottom: 20px; }
    .game-header .stats { display: flex; flex-wrap: wrap; justify-content: space-around; margin-top: 10px; }
    .game-header .stat { margin: 5px 10px; }
    .game-header .stat span { color: var(--accent-color); font-weight: bold; }
    .card { background: var(--card-bg-color); border-radius: 20px; padding: 18px; margin-bottom: 15px; text-align: center; backdrop-filter: blur(8px); }
    .item-title { font-size: 20px; font-weight: bold; }
    .item-icon { font-size: 50px; }
    .action-button { background-color: rgba(250,204,21,0.2); color: var(--accent-color); }
    .action-button:disabled { background-color: rgba(128,128,128,0.2); color: #888; cursor: not-allowed; }
    .info-text { margin: 5px 0; }
    .info-text span { color: var(--timer-color); font-weight: bold; }
    .logout-btn { background: var(--danger-color); color: white; margin-top: 15px; }
    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); display: none; justify-content: center; align-items: center; z-index: 1000; }
    .modal-content { background: #1c1f2a; padding: 25px; border-radius: 15px; text-align: center; width: 80%; max-width: 350px; box-shadow: 0 0 20px rgba(250, 204, 21, 0.5); border: 1px solid var(--accent-color); }
    .announcement-card { border: 1px solid var(--timer-color); box-shadow: 0 0 15px rgba(56, 189, 248, 0.4); }
    .announcement-card .item-title { color: var(--timer-color); }
    .cashout-card { text-align: left; padding: 25px; } .cashout-card .item-title, .cashout-card .item-icon { text-align: center; } .cashout-card .item-title { margin-bottom: 25px; } .balance-display { background: rgba(0,0,0,0.2); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); padding: 15px; margin-bottom: 25px; text-align: center; } .balance-label { display: block; font-size: 14px; color: #ccc; } .balance-amount { display: block; font-size: 24px; font-weight: bold; color: var(--primary-text-color); margin-top: 5px; } .balance-amount span { color: var(--accent-color); } .input-group { margin-bottom: 20px; } .input-group label { display: block; margin-bottom: 8px; font-weight: 600; color: var(--timer-color); font-size: 14px; } .input-group input, .input-group select { width: 100%; box-sizing: border-box; margin: 0; }
    select { -webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: url("data:image/svg+xml;charset=UTF8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2024%2024%27%20fill%3D%27none%27%20stroke%3D%27%2338bdf8%27%20stroke-width%3D%272%27%20stroke-linecap%3D%27round%27%20stroke-linejoin%3D%27round%27%3E%3Cpolyline%20points%3D%276%209%2012%2015%2018%209%27%3E%3C%2Fpolyline%3E%3C%2Fsvg%3E"); background-repeat: no-repeat; background-position: right 15px center; background-size: 1em; padding-right: 40px; }
    .cashout-button { width: 100%; box-sizing: border-box; margin: 25px 0 0 0; background: linear-gradient(90deg, #10b981, #22c55e); color: white; box-shadow: 0 0 20px #10b981; }
    .nav-bar { position: fixed; z-index: 100; bottom: 15px; left: 50%; transform: translateX(-50%); width: 95%; max-width: 480px; background: #1a1c29; border-radius: 20px; border: 1px solid rgba(250, 204, 21, 0.4); box-shadow: 0 0 25px rgba(250, 204, 21, 0.3); padding: 8px; display: flex; justify-content: space-around; align-items: center; }
    .nav-btn { background-color: transparent; border: none; border-radius: 15px; width: 100%; height: auto; flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #888; font-family: var(--font-family); padding: 8px 0; transition: all 0.3s ease-in-out; position: relative; }
    .nav-icon { width: 32px; height: 32px; background-size: contain; background-position: center; background-repeat: no-repeat; margin-bottom: 4px; }
    .nav-text { font-size: 12px; font-weight: 600; }
    .nav-btn.active { background-color: rgba(250, 204, 21, 0.1); color: var(--accent-color); }
    .nav-btn.active::after { content: ''; position: absolute; bottom: -15px; left: 50%; transform: translateX(-50%); width: 7px; height: 7px; background-color: var(--accent-color); border-radius: 50%; box-shadow: 0 0 10px var(--accent-color); }
    .icon-home { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="%23a0a0a0"><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H128.1c-1.5 0-3-.1-4.5-.2c-1.1 .1-2.2 .2-3.3 .2H80c-22.1 0-40-17.9-40-40V448.1c-.3-2.7-.5-5.4-.5-8.1l.7-160.2h-32c-17.7 0-32-14.3-32-32.1c0-9 3.6-17.5 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>'); }
    .icon-shop { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="%23a0a0a0"><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/></svg>'); }
    .icon-market { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="%23a0a0a0"><path d="M48 64C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zM400 288c0-17.7-14.3-32-32-32s-32 14.3-32 32v64c0 17.7 14.3 32 32 32s32-14.3 32-32V288zM272 192c0-17.7-14.3-32-32-32s-32 14.3-32 32v160c0 17.7 14.3 32 32 32s32-14.3 32-32V192zM144 240c0-17.7-14.3-32-32-32s-32 14.3-32 32v112c0 17.7 14.3 32 32 32s32-14.3 32-32V240z"/></svg>'); }
    .icon-cashout { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="%23a0a0a0"><path d="M621.5 183.1c13.3-11.2 16-30.4 6-44.5L563.3 53.7c-9.9-14-28.9-17.4-43-7.5L440 102.6V32c0-17.7-14.3-32-32-32H232c-17.7 0-32 14.3-32 32v70.6L120.2 46.2c-14.1-9.9-33.1-6.5-43 7.5L13.5 138.5c-10 14.1-7.3 33.3 6 44.5l144.3 121.3c14.1 11.8 33.4 9.4 44.8-4.7l103.4-131.7c4.6-5.9 13.3-5.9 17.9 0l103.4 131.7c11.4 14.1 30.7 16.5 44.8 4.7L621.5 183.1zM176 416c-44.2 0-80 35.8-80 80s35.8 80 80 80h320c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H176zm32 112c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"/></svg>'); }
    .nav-btn.active .icon-home { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="%23facc15"><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H128.1c-1.5 0-3-.1-4.5-.2c-1.1 .1-2.2 .2-3.3 .2H80c-22.1 0-40-17.9-40-40V448.1c-.3-2.7-.5-5.4-.5-8.1l.7-160.2h-32c-17.7 0-32-14.3-32-32.1c0-9 3.6-17.5 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>'); }
    .nav-btn.active .icon-shop { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="%23facc15"><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/></svg>'); }
    .nav-btn.active .icon-market { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="%23facc15"><path d="M48 64C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zM400 288c0-17.7-14.3-32-32-32s-32 14.3-32 32v64c0 17.7 14.3 32 32 32s32-14.3 32-32V288zM272 192c0-17.7-14.3-32-32-32s-32 14.3-32 32v160c0 17.7 14.3 32 32 32s32-14.3 32-32V192zM144 240c0-17.7-14.3-32-32-32s-32 14.3-32 32v112c0 17.7 14.3 32 32 32s32-14.3 32-32V240z"/></svg>'); }
    .nav-btn.active .icon-cashout { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="%23facc15"><path d="M621.5 183.1c13.3-11.2 16-30.4 6-44.5L563.3 53.7c-9.9-14-28.9-17.4-43-7.5L440 102.6V32c0-17.7-14.3-32-32-32H232c-17.7 0-32 14.3-32 32v70.6L120.2 46.2c-14.1-9.9-33.1-6.5-43 7.5L13.5 138.5c-10 14.1-7.3 33.3 6 44.5l144.3 121.3c14.1 11.8 33.4 9.4 44.8-4.7l103.4-131.7c4.6-5.9 13.3-5.9 17.9 0l103.4 131.7c11.4 14.1 30.7 16.5 44.8 4.7L621.5 183.1zM176 416c-44.2 0-80 35.8-80 80s35.8 80 80 80h320c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H176zm32 112c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"/></svg>'); }
</style>
<!-- === ‡¶®‡¶§‡ßÅ‡¶® SDK ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá === -->
<script src='//libtl.com/sdk.js' data-zone='10142078' data-sdk='show_10142078'></script>
</head>
<body>

<div class="container" id="loginPage">
  <div class="auth-container">
    <h1>Egg Farm Invest</h1>
    <div class="auth-tabs"><div id="loginTab" class="tab active" onclick="switchTab('login')">‡¶≤‡¶ó‡¶á‡¶®</div><div id="signupTab" class="tab" onclick="switchTab('signup')">‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™</div></div>
    <div id="loginForm"><input type="email" id="loginEmail" placeholder="‡¶á‡¶Æ‡ßá‡¶á‡¶≤"><input type="password" id="loginPassword" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°"><button onclick="handleLogin()">‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button></div>
    <div id="signupForm" class="hide"><input type="email" id="signupEmail" placeholder="‡¶á‡¶Æ‡ßá‡¶á‡¶≤"><input type="password" id="signupPassword" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°"><input type="password" id="signupConfirmPassword" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"><button onclick="handleSignup()">‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®</button></div>
    <p id="statusMsg"></p>
  </div>
</div>

<div class="container hide" id="gamePage">
    <div class="game-header">
        <h2 id="welcomeMsg"></h2>
        <div class="stats"><div class="stat">üí∞ ‡¶ü‡¶æ‡¶ï‡¶æ: <span id="moneyDisplay">0</span></div><div class="stat">ü™ô SHIBA: <span id="shibaCoinDisplay">0</span></div><div class="stat">ü•ö ‡¶°‡¶ø‡¶Æ: <span id="eggDisplay">0</span></div></div>
    </div>
    <div id="homeView">
        <div id="announcementView" class="card announcement-card hide"><div class="item-icon">üì¢</div><div class="item-title">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®‡ßá‡¶∞ ‡¶ò‡ßã‡¶∑‡¶£‡¶æ</div><p id="announcementText" style="margin-top: 10px; white-space: pre-wrap;"></p></div>
        <a id="telegramLink" href="#" target="_blank" class="button hide" style="background-color: #2AABEE; color: white; margin-bottom: 15px;">‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶Ø‡ßã‡¶ó ‡¶¶‡¶ø‡¶®</a>
        <div id="adRewardView" class="card"><div class="item-icon">üì∫</div><div class="item-title">‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</div><p class="info-text">‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡ßá SHIBACOIN ‡¶Ü‡ßü ‡¶ï‡¶∞‡ßÅ‡¶®!</p><button id="watchAdBtn" onclick="watchAdForReward()">‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button><p class="info-text"><span id="adTimer"></span></p></div>
        <div id="nurseryView" class="card"><div class="item-icon">üê£</div><div class="item-title">‡¶á‡¶®‡¶ï‡¶ø‡¶â‡¶¨‡ßá‡¶ü‡¶∞</div><div id="nurseryList"></div></div>
        <div class="card"><div class="item-icon">ü¶¢</div><div class="item-title">‡¶∞‡¶æ‡¶ú‡¶π‡¶æ‡¶Å‡¶∏</div><p class="info-text">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶Ü‡¶õ‡ßá: <span id="swanCount">0</span> ‡¶ü‡¶ø</p><p class="info-text">‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶õ‡ßá: <span id="swanFoodCount">0</span> ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü</p><button class="action-button" onclick="collectEggs('swan')" id="collectSwanEggBtn" disabled>‡¶°‡¶ø‡¶Æ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßÅ‡¶®</button><p class="info-text">‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶°‡¶ø‡¶Æ: <span id="swanTimer">--:--</span></p></div>
        <div class="card"><div class="item-icon">ü¶ú</div><div class="item-title">‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ ‡¶™‡¶æ‡¶ñ‡¶ø</div><p class="info-text">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶Ü‡¶õ‡ßá: <span id="parrotCount">0</span> ‡¶ü‡¶ø</p><p class="info-text">‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶õ‡ßá: <span id="parrotFoodCount">0</span> ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü</p><button class="action-button" onclick="collectEggs('parrot')" id="collectParrotEggBtn" disabled>‡¶°‡¶ø‡¶Æ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßÅ‡¶®</button><p class="info-text">‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶°‡¶ø‡¶Æ: <span id="parrotTimer">--:--</span></p></div>
        <button class="logout-btn" onclick="logout()">‡¶≤‡¶ó ‡¶Ü‡¶â‡¶ü</button>
    </div>
    <div id="shopView" class="hide">
        <div class="card"><div class="item-icon">ü¶¢</div><div class="item-title">‡¶∞‡¶æ‡¶ú‡¶π‡¶æ‡¶Å‡¶∏‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ</div><p class="info-text">‡¶¶‡¶æ‡¶Æ: <span id="babySwanPrice">0</span> ‡¶ü‡¶æ‡¶ï‡¶æ</p><button class="button" onclick="buyItem('babySwan')">‡¶ï‡¶ø‡¶®‡ßÅ‡¶®</button></div>
        <div class="card"><div class="item-icon">ü¶ú</div><div class="item-title">‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ</div><p class="info-text">‡¶¶‡¶æ‡¶Æ: <span id="babyParrotPrice">0</span> ‡¶ü‡¶æ‡¶ï‡¶æ</p><button class="button" onclick="buyItem('babyParrot')">‡¶ï‡¶ø‡¶®‡ßÅ‡¶®</button></div>
        <div class="card"><div class="item-icon">üç≤</div><div class="item-title">‡¶∞‡¶æ‡¶ú‡¶π‡¶æ‡¶Å‡¶∏‡ßá‡¶∞ ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞</div><p class="info-text">‡¶¶‡¶æ‡¶Æ: <span id="swanFoodPrice">0</span> SHIBA</p><button class="button" onclick="buyItem('swanFood')">‡¶ï‡¶ø‡¶®‡ßÅ‡¶®</button></div>
        <div class="card"><div class="item-icon">ü•ú</div><div class="item-title">‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞</div><p class="info-text">‡¶¶‡¶æ‡¶Æ: <span id="parrotFoodPrice">0</span> SHIBA</p><button class="button" onclick="buyItem('parrotFood')">‡¶ï‡¶ø‡¶®‡ßÅ‡¶®</button></div>
    </div>
    <div id="marketView" class="hide"><div class="card"><div class="item-icon">ü•ö</div><div class="item-title">‡¶°‡¶ø‡¶Æ‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞</div><p class="info-text">‡¶∞‡¶æ‡¶ú‡¶π‡¶æ‡¶Å‡¶∏‡ßá‡¶∞ ‡¶°‡¶ø‡¶Æ ‡¶Ü‡¶õ‡ßá: <span id="swanEggCount">0</span> ‡¶ü‡¶ø</p><p class="info-text">‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶°‡¶ø‡¶Æ ‡¶Ü‡¶õ‡ßá: <span id="parrotEggCount">0</span> ‡¶ü‡¶ø</p><button class="button" onclick="sellAllEggs()">‡¶∏‡¶¨ ‡¶°‡¶ø‡¶Æ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button></div></div>
    <div id="cashoutView" class="hide"><div class="card cashout-card"><div class="item-icon">üí∏</div><div class="item-title">‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶§‡ßç‡¶§‡ßã‡¶≤‡¶®</div><div class="balance-display"><span class="balance-label">‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</span><span class="balance-amount">üí∞ <span id="cashoutBalance">0</span> ‡¶ü‡¶æ‡¶ï‡¶æ</span></div><div class="input-group"><label for="paymentMethod">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ</label><select id="paymentMethod"><option value="Rocket">‡¶∞‡¶ï‡ßá‡¶ü</option><option value="TRX">TRX</option></select></div><div class="input-group"><label for="accountDetails">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ / TRX Address</label><input type="text" id="accountDetails" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶¶‡¶ø‡¶®"></div><div class="input-group"><label for="cashoutAmount">‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</label><input type="number" id="cashoutAmount" placeholder="‡¶â‡¶§‡ßç‡¶§‡ßã‡¶≤‡¶®‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶¶‡¶ø‡¶®"></div><button class="cashout-button" onclick="requestCashOut()">‡¶∞‡¶ø‡¶ï‡ßÅ‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶†‡¶æ‡¶®</button></div></div>
    
    <div class="nav-bar">
        <button id="navHome" class="nav-btn active" onclick="showGameView('home')"><div class="nav-icon icon-home"></div><span class="nav-text">‡¶´‡¶æ‡¶∞‡ßç‡¶Æ</span></button>
        <button id="navShop" class="nav-btn" onclick="showGameView('shop')"><div class="nav-icon icon-shop"></div><span class="nav-text">‡¶∂‡¶™</span></button>
        <button id="navMarket" class="nav-btn" onclick="showGameView('market')"><div class="nav-icon icon-market"></div><span class="nav-text">‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü</span></button>
        <button id="navCashout" class="nav-btn" onclick="showGameView('cashout')"><div class="nav-icon icon-cashout"></div><span class="nav-text">‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶Ü‡¶â‡¶ü</span></button>
    </div>
</div>
<div id="customAlertModal" class="modal-overlay"><div class="modal-content"><p id="customAlertMessage"></p><button onclick="closeCustomAlert()">‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá</button></div></div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script>
const firebaseConfig = { apiKey: "AIzaSyCs89Peo98U8n8VpYoYvELZufYRntYwJ7Y", authDomain: "frumgames.firebaseapp.com", databaseURL: "https://frumgames-default-rtdb.firebaseio.com", projectId: "frumgames", storageBucket: "frumgames.firebasestorage.app", messagingSenderId: "676354256457", appId: "1:676354256457:web:12bab00d1c76a5eee81998" };
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();
let currentUserData = null; let gameSettings = {}; let gameInterval; const ADMIN_EMAIL = "Harun123@gmail.com";
function customAlert(message) { document.getElementById('customAlertMessage').textContent = message; document.getElementById('customAlertModal').style.display = 'flex'; }
function closeCustomAlert() { document.getElementById('customAlertModal').style.display = 'none'; }
function switchTab(tabName) { document.getElementById('loginTab').classList.toggle('active', tabName === 'login'); document.getElementById('signupTab').classList.toggle('active', tabName === 'signup'); document.getElementById('loginForm').classList.toggle('hide', tabName !== 'login'); document.getElementById('signupForm').classList.toggle('hide', tabName !== 'signup'); }
auth.onAuthStateChanged(user => { if (user && user.email !== ADMIN_EMAIL) { loadGameDataForUser(user.uid); } else { showLoginPage(); if(gameInterval) clearInterval(gameInterval); } });
function handleLogin() { const email = document.getElementById('loginEmail').value; const password = document.getElementById('loginPassword').value; const msg = document.getElementById('statusMsg'); msg.textContent = "‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."; auth.signInWithEmailAndPassword(email, password).catch(error => msg.textContent = "‡¶≠‡ßÅ‡¶≤ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¨‡¶æ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°‡•§"); }
function handleSignup() { const email = document.getElementById('signupEmail').value; const password = document.getElementById('signupPassword').value; const confirmPassword = document.getElementById('signupConfirmPassword').value; const msg = document.getElementById('statusMsg'); if (password !== confirmPassword) { msg.textContent = "‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡ßá‡¶≤‡ßá‡¶®‡¶ø‡•§"; return; } msg.textContent = "‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."; auth.createUserWithEmailAndPassword(email, password).then(cred => initializeNewUserData(cred.user.uid, email)).catch(error => msg.textContent = error.message); }
function initializeNewUserData(userId, email) { db.ref('users/' + userId).set({ email: email, money: 100, shibaCoin: 0, eggs: { swan: 0, parrot: 0 }, animals: { swan: 0, parrot: 0 }, food: { swan: 0, parrot: 0 }, timers: { swanEgg: Date.now(), parrotEgg: Date.now(), lastAdWatch: 0 }, nursery: {} }); }
function logout() { auth.signOut(); }
function showLoginPage() { document.getElementById('loginPage').classList.remove('hide'); document.getElementById('gamePage').classList.add('hide'); }
function loadGameDataForUser(userId) { db.ref('gameSettings').on('value', snapshot => { if(snapshot.exists()) gameSettings = snapshot.val(); }); db.ref('users/' + userId).on('value', (snapshot) => { currentUserData = snapshot.val(); if(currentUserData){ document.getElementById('gamePage').classList.contains('hide') ? showGamePage() : updateUI(); } }); db.ref('announcements').on('value', snapshot => { const annCard = document.getElementById('announcementView'); const annText = document.getElementById('announcementText'); if (snapshot.exists() && snapshot.val().message) { annText.innerText = snapshot.val().message; annCard.classList.remove('hide'); } else { annCard.classList.add('hide'); } }); }
function showGamePage() { document.getElementById('loginPage').classList.add('hide'); document.getElementById('gamePage').classList.remove('hide'); updateUI(); if(gameInterval) clearInterval(gameInterval); gameInterval = setInterval(() => { eggLoop(); checkNursery(); updateAdCooldownTimer(); }, 1000); }
function updateUI() { if (!currentUserData) return; const d = currentUserData; const s = gameSettings || {}; document.getElementById('welcomeMsg').textContent = `‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ, ${d.email.split('@')[0]}`; document.getElementById('moneyDisplay').textContent = d.money || 0; document.getElementById('shibaCoinDisplay').textContent = d.shibaCoin || 0; document.getElementById('eggDisplay').textContent = (d.eggs?.swan || 0) + (d.eggs?.parrot || 0); document.getElementById('cashoutBalance').textContent = d.money || 0; const tgLink = document.getElementById('telegramLink'); if(s.telegramUrl && s.telegramUrl.length > 5) { tgLink.href = s.telegramUrl; tgLink.classList.remove('hide'); } else { tgLink.classList.add('hide'); } document.getElementById('swanCount').textContent = d.animals?.swan || 0; document.getElementById('swanFoodCount').textContent = d.food?.swan || 0; document.getElementById('parrotCount').textContent = d.animals?.parrot || 0; document.getElementById('parrotFoodCount').textContent = d.food?.parrot || 0; const shop = s.shop || {}; document.getElementById('babySwanPrice').textContent = shop.babySwan?.price || 0; document.getElementById('babyParrotPrice').textContent = shop.babyParrot?.price || 0; document.getElementById('swanFoodPrice').textContent = shop.swanFood?.price || 0; document.getElementById('parrotFoodPrice').textContent = shop.parrotFood?.price || 0; document.getElementById('swanEggCount').textContent = d.eggs?.swan || 0; document.getElementById('parrotEggCount').textContent = d.eggs?.parrot || 0; const nurseryListDiv = document.getElementById('nurseryList'); nurseryListDiv.innerHTML = ''; if (d.nursery && Object.keys(d.nursery).length > 0) { Object.values(d.nursery).forEach(baby => { const timeLeft = Math.max(0, baby.readyTime - Date.now()); nurseryListDiv.innerHTML += `<p class="info-text">‡¶è‡¶ï‡¶ü‡¶ø ${baby.type === 'swan' ? '‡¶∞‡¶æ‡¶ú‡¶π‡¶æ‡¶Å‡¶∏' : '‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ'} ‡¶¨‡ßú ‡¶π‡¶ö‡ßç‡¶õ‡ßá... <span>${new Date(timeLeft).toISOString().substr(14, 5)}</span></p>`; }); } else { nurseryListDiv.innerHTML = '<p class="info-text">‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ ‡¶¨‡ßú ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ‡•§</p>'; } }
function eggLoop() { if (!currentUserData) return; ['swan', 'parrot'].forEach(type => { const count = currentUserData.animals?.[type] || 0; const food = currentUserData.food?.[type] || 0; const eggTime = (gameSettings.animals?.[type]?.boostedEggTime || 3600) * 1000; const timeLeft = Math.max(0, (currentUserData.timers?.[type + 'Egg'] || 0) + eggTime - Date.now()); const canCollect = food > 0 && count > 0 && timeLeft <= 0; document.getElementById(`collect${type.charAt(0).toUpperCase() + type.slice(1)}EggBtn`).disabled = !canCollect; document.getElementById(`${type}Timer`).textContent = canCollect ? "‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßÅ‡¶®!" : new Date(timeLeft).toISOString().substr(14, 5); }); }
function checkNursery() { if (!currentUserData?.nursery) return; const now = Date.now(); const updates = {}; Object.entries(currentUserData.nursery).forEach(([key, baby]) => { if (now >= baby.readyTime) { updates[`/users/${auth.currentUser.uid}/animals/${baby.type}`] = (currentUserData.animals?.[baby.type] || 0) + 1; updates[`/users/${auth.currentUser.uid}/nursery/${key}`] = null; customAlert(`‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ${baby.type === 'swan' ? '‡¶∞‡¶æ‡¶ú‡¶π‡¶æ‡¶Å‡¶∏‡ßá‡¶∞' : '‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞'} ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ ‡¶¨‡ßú ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá!`); } }); if (Object.keys(updates).length > 0) { db.ref().update(updates); } }
function buyItem(itemName) { const item = gameSettings.shop?.[itemName]; if (!item) return customAlert("‡¶è‡¶á ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ‡¶ü‡¶ø ‡¶è‡¶ñ‡¶® ‡¶®‡ßá‡¶á‡•§"); const isFood = itemName.includes('Food'); const price = item.price; const userCurrency = isFood ? (currentUserData.shibaCoin || 0) : (currentUserData.money || 0); const currencyName = isFood ? "SHIBACOIN" : "‡¶ü‡¶æ‡¶ï‡¶æ"; if (userCurrency < price) return customAlert(`‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ø‡¶•‡ßá‡¶∑‡ßç‡¶ü ${currencyName} ‡¶®‡ßá‡¶á!`); const userRef = db.ref('users/' + auth.currentUser.uid); const updates = {}; if (isFood) { updates['/shibaCoin'] = userCurrency - price; const type = itemName.replace('Food', ''); updates[`/food/${type}`] = (currentUserData.food?.[type] || 0) + 1; customAlert(`‡ßß ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶ï‡ßá‡¶®‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!`); } else { updates['/money'] = userCurrency - price; const type = itemName.replace('baby', '').toLowerCase(); const growthTime = item.growthTime * 1000; const newBabyRef = userRef.child('nursery').push(); updates[`/nursery/${newBabyRef.key}`] = { type, readyTime: Date.now() + growthTime }; customAlert(`‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ‡¶ü‡¶ø ‡¶á‡¶®‡¶ï‡¶ø‡¶â‡¶¨‡ßá‡¶ü‡¶∞‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!`); } userRef.update(updates); }
function collectEggs(animalType) { const count = currentUserData.animals?.[animalType] || 0; const food = currentUserData.food?.[animalType] || 0; const eggsToCollect = Math.min(count, food); if (eggsToCollect > 0) { const updates = { [`/food/${animalType}`]: food - eggsToCollect, [`/eggs/${animalType}`]: (currentUserData.eggs?.[animalType] || 0) + eggsToCollect, [`/timers/${animalType}Egg`]: Date.now() }; db.ref('users/' + auth.currentUser.uid).update(updates); customAlert(`${eggsToCollect} ‡¶ü‡¶ø ‡¶°‡¶ø‡¶Æ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!`); } else { customAlert("‡¶°‡¶ø‡¶Æ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ø‡¶•‡ßá‡¶∑‡ßç‡¶ü ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶®‡ßá‡¶á‡•§"); } }
function sellAllEggs() { const swanEggValue = gameSettings.animals?.swan?.eggValue || 0; const parrotEggValue = gameSettings.animals?.parrot?.eggValue || 0; const totalEarnings = ((currentUserData.eggs?.swan || 0) * swanEggValue) + ((currentUserData.eggs?.parrot || 0) * parrotEggValue); if (totalEarnings > 0) { db.ref('users/' + auth.currentUser.uid).update({ '/money': (currentUserData.money || 0) + totalEarnings, '/eggs/swan': 0, '/eggs/parrot': 0 }); customAlert(`${totalEarnings} ‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶°‡¶ø‡¶Æ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!`); } else { customAlert("‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶ø‡¶Æ ‡¶®‡ßá‡¶á‡•§"); } }
function requestCashOut() { const amount = parseInt(document.getElementById('cashoutAmount').value); const paymentMethod = document.getElementById('paymentMethod').value; const accountDetails = document.getElementById('accountDetails').value; if (!amount || amount <= 0) return customAlert("‡¶∏‡¶†‡¶ø‡¶ï ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®‡•§"); if (amount > (currentUserData.money || 0)) return customAlert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá ‡¶Ø‡¶•‡ßá‡¶∑‡ßç‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶®‡ßá‡¶á‡•§"); if (!accountDetails) return customAlert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®‡•§"); const newRequestKey = db.ref('cashoutRequests').push().key; db.ref().update({ [`/users/${auth.currentUser.uid}/money`]: (currentUserData.money || 0) - amount, [`/cashoutRequests/${newRequestKey}`]: { userId: auth.currentUser.uid, userEmail: auth.currentUser.email, amount, paymentMethod, accountDetails, status: 'pending', timestamp: Date.now() } }).then(() => { customAlert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶§‡ßç‡¶§‡ßã‡¶≤‡¶®‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß‡¶ü‡¶ø ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§"); document.getElementById('cashoutAmount').value = ''; document.getElementById('accountDetails').value = ''; showGameView('home'); }); }
function showGameView(viewName) { ['home', 'shop', 'market', 'cashout'].forEach(v => { document.getElementById('nav' + v.charAt(0).toUpperCase() + v.slice(1)).classList.remove('active'); }); document.getElementById('homeView').classList.add('hide'); document.getElementById('shopView').classList.add('hide'); document.getElementById('marketView').classList.add('hide'); document.getElementById('cashoutView').classList.add('hide'); document.getElementById(viewName + 'View').classList.remove('hide'); document.getElementById('nav' + viewName.charAt(0).toUpperCase() + viewName.slice(1)).classList.add('active'); }
function updateAdCooldownTimer() { if (!currentUserData) return; const rewardsSettings = gameSettings.rewards || {}; const adBtn = document.getElementById('watchAdBtn'); const adTimerSpan = document.getElementById('adTimer'); const cooldown = (rewardsSettings.adCooldownSeconds || 300) * 1000; const lastWatch = currentUserData.timers?.lastAdWatch || 0; const timeLeft = Math.max(0, (lastWatch + cooldown) - Date.now()); if (timeLeft > 0) { adBtn.disabled = true; const minutes = Math.floor(timeLeft / 60000); const seconds = Math.floor((timeLeft % 60000) / 1000); adTimerSpan.textContent = `‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶®: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`; } else { adBtn.disabled = false; adTimerSpan.textContent = "‡¶è‡¶ñ‡¶® ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®!"; } }
function watchAdForReward() {
    // Check if SDK is loaded
    if (typeof show_10142078 !== 'function') {
        return customAlert("‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°-‡¶¨‡ßç‡¶≤‡¶ï‡¶æ‡¶∞ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
    }
    const rewardsSettings = gameSettings.rewards || {};
    const cooldown = (rewardsSettings.adCooldownSeconds || 300) * 1000;
    const rewardAmount = rewardsSettings.adRewardAmount || 100;
    const lastWatch = currentUserData.timers?.lastAdWatch || 0;
    if (Date.now() < lastWatch + cooldown) {
        return customAlert("‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
    }

    // Show ad using the new SDK function
    show_10142078('pop').then(() => {
        // This code runs AFTER the ad is successfully watched/closed
        const updates = {
            'shibaCoin': (currentUserData.shibaCoin || 0) + rewardAmount,
            'timers/lastAdWatch': Date.now()
        };
        db.ref('users/' + auth.currentUser.uid).update(updates).then(() => {
            customAlert(`‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶Ü‡¶™‡¶®‡¶ø ${rewardAmount} SHIBACOIN ‡¶™‡ßá‡ßü‡ßá‡¶õ‡ßá‡¶®!`);
        });
    }).catch(e => {
        customAlert("‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶§‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
    });
}
</script>
</body>
</html>